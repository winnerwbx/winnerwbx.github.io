---
title: Algorithm-三个线程循环打印ABC10次
date: 2019-09-11 10:49:39
tags: ARTS Algorithm
categories:
- ARTS
- WEEK3
---

# Algorithm

## 三个线程循环打印ABC 10次

> 有A，B，C三个线程,A线程输出A，B线程输出B，C线程输出C，要求，同时启动三个线程，按顺序输出ABC，循环10次

### 思路

典型的多线程并发控制问题。

大致思路是：三个线程共享一个控制状态，即当前该谁打印了，没有轮到的线程则进行等待，轮到则打印。各线程循环10次后结束。

对于多线程的问题，无外乎就是分工、同步、互斥这三个问题。

分工自然不用说了，每个线程都处理各自的问题。对于同步和互斥，主要想清楚以下两点。这两点清楚后，思路就会比较清晰了

1. 需要共享资源是什么？（对应互斥，也就是应该对什么加锁）
2. 线程之间数据如何同步？（对应同步，也就是线程之间的通信）

我们拿本例来分析，需要共享的资源是什么呢？——是打印资源，即同一时间，只允许一个线程占有打印资源进行打印输出，某个线程打印完毕，需要释放资源给下一个线程继续打印。

所以我们需要对打印资源加锁。

那线程之间需要同步什么数据呢？打印顺序，也就是当前轮到谁来打印了。没有轮到的线程需要等待其他线程打印完。

有以下几种解法：

1. 使用同步块：synchronized及线程的wait和notify
2. 使用锁：Lock及Condition的await和signal
3. 使用原子变量：AtomicInteger
4. 使用信号量：Semaphore

